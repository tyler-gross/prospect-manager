@* index.cshtml *@

@{
    ViewBag.Title = "Prospects";
}

<div class="row">
    <div class="col">
        <h1>@ViewBag.Title</h1>
        <div class="dataTables_wrapper" style="margin-top: 1em;">
            <table class="dataTable  table  hover  row-border  stripe" id="prospectsTable">
                <thead>
                    <tr>
                        <th scope="col">First Name</th>
                        <th scope="col">Last Name</th>
                        <th scope="col">Position</th>
                        <th scope="col">College</th>
                        <th scope="col">Height</th>
                        <th scope="col">Weight</th>
                        <th scope="col">Birth Year (Age)</th>
                        <th scope="col">Draft Year</th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var prospect in Model)
                    {
                        <tr>
                            <td>@prospect.FirstName</td>
                            <td>@prospect.LastName</td>
                            <td>@prospect.Position</td>
                            <td>@prospect.College.CollegeName</td>
                            <td>@prospect.HeightFeet-@prospect.HeightInches</td>
                            <td>@prospect.Weight</td>
                            <td>@prospect.BirthYear (@prospect.DisplayAge)</td>
                            <td>@prospect.DraftYear</td>
                            <td>
                                <a href="@Url.Action("edit", new { id = prospect.Id })" class="btn btn-primary btn-sm">
                                    <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>&nbsp;
                                    Edit
                                </a>
                                <a href="@Url.Action("delete", new { id = prospect.Id })" class="btn btn-danger btn-sm">
                                    <span class="glyphicon glyphicon-trash" aria-hidden="true"></span>&nbsp;
                                    Delete
                                </a>
                            </td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
    </div>
</div>

@section scripts {
    <script src="https://cdnjs.cloudflare.com/ajax/libs/datatables/1.10.16/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/buttons/1.5.1/js/dataTables.buttons.min.js"></script>
    <script src="https://cdn.datatables.net/buttons/1.5.1/js/buttons.print.min.js"></script>
    <script src="https://cdn.datatables.net/responsive/2.2.1/js/dataTables.responsive.min.js"></script>
    <script>
        $("#prospectsTable").DataTable({
            buttons: [
                {
                    init: function (dt, node, config) {
                        $(node).attr('onclick', 'window.location.href = "/prospects/add";')
                    }
                    , text: '<span class="glyphicon glyphicon-plus" aria-hidden="true"></span>&nbsp;Add'
                    , className: 'btn btn-success'
                }
            ,    {
                    extend: "print"
                ,   title: "Prospects"
                ,   customize: function (win) {
                        $(win.document.body).find('table')
                            .addClass('compact')
                            .css('font-size', 'inherit');
                    }
                    , text: '<span class="glyphicon glyphicon-print" aria-hidden="true"></span>&nbsp;&nbsp;Print'
                , className: 'btn btn-outline-primary'
                }   
            ]
        ,   dom: '<"top"iBf>'
        ,   language: { search: "Filter:" }
        ,   paging: false
        ,   order: [[1, "asc"]]
        ,   responsive: true
        });
    </script>
}